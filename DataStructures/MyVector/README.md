It supports the initializer_list and does boundary check.
